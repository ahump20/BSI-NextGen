(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{2121:function(e,t,s){Promise.resolve().then(s.bind(s,2143))},6640:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var a=s(8539),r=s.n(a)},2143:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(4980),r=s(4804),n=s(86),l=s(6640),i=s(8229);function c(){let{authenticated:e,user:t,loading:s}=(0,n.a)(),[c,d]=(0,r.useState)([]),[o,x]=(0,r.useState)([]),[m,h]=(0,r.useState)(!0),[u,p]=(0,r.useState)(null),[g,f]=(0,r.useState)("all");(0,r.useEffect)(()=>{async function e(){try{h(!0),p(null);let[e,t]=await Promise.all([fetch("/api/sports/mlb/games"),fetch("/api/sports/mlb/standings")]);if(!e.ok||!t.ok)throw Error("Failed to fetch MLB data");let s=await e.json(),a=await t.json();d(s.data),x(a.data)}catch(e){console.error("Error fetching MLB data:",e),p(e instanceof Error?e.message:"Failed to load MLB data")}finally{h(!1)}}e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]);let b=("all"===g?o:o.filter(e=>e.team.division===g)).reduce((e,t)=>{let s=t.team.division||"Unknown";return e[s]||(e[s]=[]),e[s].push(t),e},{});return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(l.default,{href:"/",className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent hover:from-blue-700 hover:to-indigo-700 transition-all",children:"Blaze Sports Intel"}),(0,a.jsx)("span",{className:"text-gray-400",children:"•"}),(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"MLB"})]}),!s&&(0,a.jsx)(a.Fragment,{children:e&&t?(0,a.jsxs)(l.default,{href:"/profile",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all",children:[(0,a.jsx)(i.q,{src:t.picture,name:t.name||t.email,size:"sm"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:t.name||t.email})]}):(0,a.jsx)(l.default,{href:"/login",className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all font-medium",children:"Sign In"})})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"mb-6 flex items-center gap-2",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),"Live Data from MLB Stats API"]})}),m&&(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),u&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[(0,a.jsx)("h3",{className:"text-red-800 font-semibold mb-2",children:"Error Loading MLB Data"}),(0,a.jsx)("p",{className:"text-red-600",children:u})]}),!m&&!u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"mb-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Today's Games"}),0===c.length?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:"No games scheduled today"})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("live"===e.status?"bg-red-100 text-red-800":"final"===e.status?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"),children:"live"===e.status?"LIVE":"final"===e.status?"FINAL":"SCHEDULED"}),e.period&&(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.period})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:e.awayTeam.abbreviation})}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-800",children:e.awayScore})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:e.homeTeam.abbreviation})}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-800",children:e.homeScore})]})]}),e.venue&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.venue})}),e.broadcasters&&e.broadcasters.length>0&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.broadcasters.join(", ")})})]},e.id))})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Standings"}),(0,a.jsx)("select",{value:g,onChange:e=>f(e.target.value),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Object.entries({all:"All Divisions","AL East":"AL East","AL Central":"AL Central","AL West":"AL West","NL East":"NL East","NL Central":"NL Central","NL West":"NL West"}).map(e=>{let[t,s]=e;return(0,a.jsx)("option",{value:t,children:s},t)})})]}),(0,a.jsx)("div",{className:"space-y-8",children:Object.entries(b).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-3",children:(0,a.jsx)("h3",{className:"text-white font-semibold",children:t})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"W"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"L"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PCT"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"GB"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"STRK"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"L10"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map(e=>{var t;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-800",children:e.team.abbreviation}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.team.name})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-800",children:e.wins}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-800",children:e.losses}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-800",children:e.winPercentage.toFixed(3)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:0===e.gamesBack?"-":(null===(t=e.gamesBack)||void 0===t?void 0:t.toFixed(1))||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-800",children:e.streak||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-800",children:e.lastTen||"-"})]},e.team.id)})})]})})]},t)})})]})]})]}),(0,a.jsx)("footer",{className:"bg-white border-t border-gray-200 mt-16",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-gray-600 text-sm",children:["Data from ",(0,a.jsx)("span",{className:"font-semibold",children:"MLB Stats API"})]}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-2",children:"\xa9 2025 Blaze Sports Intel • America/Chicago Timezone"})]})})})]})}},8229:function(e,t,s){"use strict";s.d(t,{q:function(){return l}});var a=s(4980),r=s(728);let n={sm:"w-6 h-6 text-sm",md:"w-10 h-10 text-base",lg:"w-16 h-16 text-xl"};function l(e){let{src:t,name:s,size:l="sm",className:i=""}=e,c=n[l],d="rounded-full ".concat(c," ").concat(i);if(!t){let e=(s||"?")[0].toUpperCase();return(0,a.jsx)("div",{className:"".concat(d," bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex items-center justify-center font-bold"),children:e})}return(0,a.jsx)("div",{className:"relative ".concat(c),children:(0,a.jsx)(r.default,{src:t,alt:s,fill:!0,className:"".concat(d," object-cover"),sizes:"sm"===l?"24px":"md"===l?"40px":"64px",priority:!1,unoptimized:t.includes("googleusercontent.com")||t.includes("auth0")})})}},86:function(e,t,s){"use strict";s.d(t,{a:function(){return r}});var a=s(4804);function r(){let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(null),i=(0,a.useCallback)(async()=>{try{r(!0),l(null);let e=await fetch("/api/auth/me",{credentials:"include"});if(401===e.status){t(null),r(!1);return}if(!e.ok)throw Error("Failed to fetch user");let s=await e.json();t(s.user)}catch(e){console.error("[useAuth] Error fetching user:",e),l(e instanceof Error?e.message:"Unknown error"),t(null)}finally{r(!1)}},[]);return(0,a.useEffect)(()=>{i()},[i]),{user:e,loading:s,error:n,authenticated:null!==e,login:(0,a.useCallback)(e=>{let t=new URLSearchParams;e&&t.append("returnTo",e);let s="/api/auth/login".concat(t.toString()?"?".concat(t.toString()):"");window.location.href=s},[]),logout:(0,a.useCallback)(e=>{let t=new URLSearchParams;e&&t.append("returnTo",e);let s="/api/auth/logout".concat(t.toString()?"?".concat(t.toString()):"");window.location.href=s},[]),refresh:i}}}},function(e){e.O(0,[539,728,543,586,744],function(){return e(e.s=2121)}),_N_E=e.O()}]);