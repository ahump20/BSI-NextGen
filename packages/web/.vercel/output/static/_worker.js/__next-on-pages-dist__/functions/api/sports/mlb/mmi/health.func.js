var W=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var Z=(c,p)=>()=>(c&&(p=c(c=0)),p);var H=(c,p,M,h)=>{if(p&&typeof p=="object"||typeof p=="function")for(let m of Q(p))!Y.call(c,m)&&m!==M&&W(c,m,{get:()=>p[m],enumerable:!(h=J(p,m))||h.enumerable});return c},X=(c,p,M)=>(H(c,p,"default"),M&&H(M,p,"default"));var ee=c=>H(W({},"__esModule",{value:!0}),c);var F={};import*as _t from"async_hooks";var z=Z(()=>{X(F,_t)});import{__getNamedExports as te}from"../../../../../../__next-on-pages-dist__/webpack/df4d2274db36d8474f6ea13afdaea81a.js";import{__getNamedExports as ne}from"../../../../../../__next-on-pages-dist__/webpack/7801f2715286f7073cabb00469617eb9.js";import{__getNamedExports as ae}from"../../../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var y=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/sports/mlb/mmi/health"),i=te(y,y,y),se=i.__chunk_6195,_e=i.__chunk_2067,oe=i.__chunk_4352,re=i.__chunk_7664,ce=i.__chunk_3230,ue=i.__chunk_9445,ie=i.__chunk_1104,pe=i.__chunk_1405,le=i.__chunk_6666,ge=i.__chunk_7096,he=i.__chunk_7575,me=i.__chunk_7834,de=i.__chunk_8683,ke=i.__chunk_2448,fe=i.__chunk_9378,xe=i.__chunk_3557,be=i.__chunk_69,ye=i.__chunk_7751,ve=i.__chunk_6858,Ee=i.__chunk_8176,Ie=i.__chunk_5288,Re=i.__chunk_7880,Pe=i.__chunk_8337,$e=i.__chunk_8062,r=ne(y,y,y),we=r.__chunk_5924,Ne=r.__chunk_781,Oe=r.__chunk_8220,Se=r.__chunk_3355,Ae=r.__chunk_2069,Ce=r.__chunk_4941,je=r.__chunk_577,Me=r.__chunk_5233,Te=r.__chunk_1329,Ke=r.__chunk_7100,Fe=r.__chunk_1627,Le=r.__chunk_8499,Ue=r.__chunk_9685,De=r.__chunk_9960,Be=r.__chunk_104,He=r.__chunk_1236,Xe=r.__chunk_9525,qe=r.__chunk_9973,Ge=r.__chunk_1285,We=r.__chunk_48,ze=r.__chunk_2880,Ve=r.__chunk_6426,Je=r.__chunk_45,Qe=r.__chunk_1860,Ye=r.__chunk_2049,Ze=r.__chunk_1646,et=r.__chunk_6949,tt=r.__chunk_5681,V=ae(y,y,y),nt=V.__NEXT_FONT_MANIFEST,at=V.__REACT_LOADABLE_MANIFEST,ut=((c,p,M)=>(p._ENTRIES={},c.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-86a5f5ff1c246a65.js","static/chunks/03776499-06fef3c38de84763.js","static/chunks/586-287072c5d1e0247a.js","static/chunks/main-app-d4b477d75c34216e.js"],pages:{"/_app":["static/chunks/webpack-86a5f5ff1c246a65.js","static/chunks/framework-bef83a85c94ff7de.js","static/chunks/main-4f532130390f5e28.js","static/chunks/pages/_app-78441e5ace8dbcac.js"],"/_error":["static/chunks/webpack-86a5f5ff1c246a65.js","static/chunks/framework-bef83a85c94ff7de.js","static/chunks/main-4f532130390f5e28.js","static/chunks/pages/_error-a120af1e9aa678da.js"]},ampFirstPages:[]},c.__BUILD_MANIFEST.lowPriorityFiles=["/static/AzwBPgRZEb-c_OwVMRqW0/_buildManifest.js",,"/static/AzwBPgRZEb-c_OwVMRqW0/_ssgManifest.js"],c.__REACT_LOADABLE_MANIFEST=at,c.__NEXT_FONT_MANIFEST=nt,c.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var h={},m={};function n(t){var u=m[t];if(u!==void 0)return u.exports;var o=m[t]={exports:{}},d=!0;try{h[t].call(o.exports,o,o.exports,n),d=!1}finally{d&&delete m[t]}return o.exports}n.m=h,n.amdO={},(()=>{var t=[];n.O=(u,o,d,k)=>{if(o){k=k||0;for(var l=t.length;l>0&&t[l-1][2]>k;l--)t[l]=t[l-1];t[l]=[o,d,k];return}for(var f=1/0,l=0;l<t.length;l++){for(var[o,d,k]=t[l],v=!0,x=0;x<o.length;x++)f>=k&&Object.keys(n.O).every(j=>n.O[j](o[x]))?o.splice(x--,1):(v=!1,k<f&&(f=k));if(v){t.splice(l--,1);var I=d();I!==void 0&&(u=I)}}return u}})(),n.n=t=>{var u=t&&t.__esModule?()=>t.default:()=>t;return n.d(u,{a:u}),u},n.d=(t,u)=>{for(var o in u)n.o(u,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:u[o]})},n.e=()=>Promise.resolve(),n.g=function(){if(typeof p=="object")return p;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(t,u)=>Object.prototype.hasOwnProperty.call(t,u),n.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};n.O.j=d=>t[d]===0;var u=(d,k)=>{var l,f,[v,x,I]=k,R=0;if(v.some(A=>t[A]!==0)){for(l in x)n.o(x,l)&&(n.m[l]=x[l]);if(I)var T=I(n)}for(d&&d(k);R<v.length;R++)f=v[R],n.o(t,f)&&t[f]&&t[f][0](),t[f]=0;return n.O(T)},o=c.webpackChunk_N_E=c.webpackChunk_N_E||[];o.forEach(u.bind(null,0)),o.push=u.bind(null,o.push.bind(o))})()})(),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[601],{8062:$e,8337:Pe,7880:Re,5288:Ie,8176:Ee,6858:ve,7751:ye,69:be,3557:xe,9378:fe,2448:ke,8683:de,7834:me,7575:he,7096:ge,6666:le,1405:pe,1104:ie,9445:ue,3230:ce,7664:re,4352:oe}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[901],{5681:tt,6949:et,1646:Ze,2049:Ye,1860:Qe,45:Je,6426:Ve,2880:ze,48:We,1285:Ge,9973:qe,9525:Xe,1236:He,104:Be,9960:De,9685:Ue,8499:Le,1627:Fe,7100:Ke,1329:Te,5233:Me,577:je,4941:Ce,2069:Ae,3355:Se,8220:Oe,781:Ne,5924:we}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[623],{2067:_e,6195:se,9764:(h,m,n)=>{"use strict";n.r(m),n.d(m,{ComponentMod:()=>D,default:()=>B});var t={};n.r(t),n.d(t,{GET:()=>I,runtime:()=>v});var u={};n.r(u),n.d(u,{originalPathname:()=>j,patchFetch:()=>U,requestAsyncStorage:()=>T,routeModule:()=>R,serverHooks:()=>C,staticGenerationAsyncStorage:()=>A});var o=n(104),d=n(9525),k=n(7575),l=n(7096),f=n(48);let v="edge",x=process.env.MMI_SERVICE_URL||"http://localhost:8001";async function I(q){let g={mmi_service:"down",mlb_api:"down"};try{let e=await fetch(`${x}/health`,{signal:AbortSignal.timeout(5e3)});if(e.ok){let _=await e.json();g.mmi_service="up",_.components?.mlb_api&&(g.mlb_api=_.components.mlb_api)}}catch(e){console.error("[MMI Health] MMI service check failed:",e),g.error=e instanceof Error?e.message:"Unknown error"}if(g.mmi_service==="up"&&g.mlb_api==="down")try{(await fetch("https://statsapi.mlb.com/api/v1/schedule?sportId=1",{signal:AbortSignal.timeout(5e3)})).ok&&(g.mlb_api="up")}catch(e){console.error("[MMI Health] MLB API check failed:",e)}let L=g.mmi_service==="up"&&g.mlb_api==="up",w=g.mmi_service==="up"||g.mlb_api==="up",K=L?"healthy":w?"degraded":"unhealthy",E={status:K,timestamp:new Date().toISOString(),timezone:"America/Chicago",services:{mmi_service:g.mmi_service,mlb_api:g.mlb_api},config:{mmi_service_url:x},...g.error&&{error:g.error}};return console.log("[MMI Health] Health check:",E),f.xk.json(E,{status:L?200:503,headers:{"Cache-Control":"no-cache, no-store, must-revalidate","X-Service-Status":K}})}let R=new d.AppRouteRouteModule({definition:{kind:k.x.APP_ROUTE,page:"/api/sports/mlb/mmi/health/route",pathname:"/api/sports/mlb/mmi/health",filename:"route",bundlePath:"app/api/sports/mlb/mmi/health/route"},resolvedPagePath:"/Users/AustinHumphrey/BSI-NextGen/packages/web/app/api/sports/mlb/mmi/health/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:T,staticGenerationAsyncStorage:A,serverHooks:C}=R,j="/api/sports/mlb/mmi/health/route";function U(){return(0,l.XH)({serverHooks:C,staticGenerationAsyncStorage:A})}let D=u,B=o.a.wrap(R)}},h=>{var m=t=>h(h.s=t);h.O(0,[601,901],()=>m(9764));var n=h.O();(p._ENTRIES=typeof p._ENTRIES>"u"?{}:p._ENTRIES)["middleware_app/api/sports/mlb/mmi/health/route"]=n}]),function(){let h={exports:{},loaded:!1};return function(n,t){var u=Object.create,o=Object.defineProperty,d=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,l=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,v=e=>o(e,"__esModule",{value:!0}),x=(e,_)=>{v(e);for(var s in _)o(e,s,{get:_[s],enumerable:!0})},I=(e,_,s)=>{if(_&&typeof _=="object"||typeof _=="function")for(let a of k(_))!f.call(e,a)&&a!=="default"&&o(e,a,{get:()=>_[a],enumerable:!(s=d(_,a))||s.enumerable});return e},R=e=>I(v(o(e!=null?u(l(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);x(t,{default:()=>L});var T=R((z(),ee(F))),A="@next/request-context",C=Symbol.for(A),j=Symbol.for("internal.storage");function U(){let e=p;if(!e[C]){let _=new T.AsyncLocalStorage,s={get:()=>_.getStore(),[j]:_};e[C]=s}return e[C]}var D=U();function B(e,_){return D[j].run(e,_)}function q(e){let _={};return e&&e.forEach((s,a)=>{_[a]=s,a.toLowerCase()==="set-cookie"&&(_[a]=g(s))}),_}function g(e){let _=[],s=0,a,P,b,O,S;function $(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}function N(){return P=e.charAt(s),P!=="="&&P!==";"&&P!==","}for(;s<e.length;){for(a=s,S=!1;$();)if(P=e.charAt(s),P===","){for(b=s,s+=1,$(),O=s;s<e.length&&N();)s+=1;s<e.length&&e.charAt(s)==="="?(S=!0,s=O,_.push(e.substring(a,b)),a=s):s=b+1}else s+=1;(!S||s>=e.length)&&_.push(e.substring(a,e.length))}return _}function L(e){let _=e.staticRoutes.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page})),s=e.dynamicRoutes?.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page}))||[];return async function(a,P){let b=new URL(a.url).pathname,O={};if(e.nextConfig?.basePath&&b.startsWith(e.nextConfig.basePath)&&(b=b.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let $ of e.nextConfig.i18n.locales){let N=new RegExp(`^/${$}($|/)`,"i");if(b.match(N)){b=b.replace(N,"/")||"/";break}}for(let $ of _)if($.regexp.exec(b)){O.name=$.page;break}if(!O.name){let $=K(b);for(let N of s||[]){if($&&!K(N.page))continue;let G=N.regexp.exec(b);if(G){O={name:N.page,params:G.groups};break}}}let S=await B({waitUntil:P.waitUntil},()=>p._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:a.url,method:a.method,headers:q(a.headers),ip:w(a.headers,E.Ip),geo:{city:w(a.headers,E.City,!0),country:w(a.headers,E.Country,!0),latitude:w(a.headers,E.Latitude),longitude:w(a.headers,E.Longitude),region:w(a.headers,E.Region,!0)},nextConfig:e.nextConfig,page:O,body:a.body}}));return S.waitUntil&&P.waitUntil(S.waitUntil),S.response}}function w(e,_,s=!1){let a=e.get(_)||void 0;return s&&a?decodeURIComponent(a):a}function K(e){return e==="/api"||e.startsWith("/api/")}var E;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(E||(E={}))}(h,h.exports),h.exports}.call({}).default({name:"app/api/sports/mlb/mmi/health/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/college/fusion",regex:"^/college/fusion(?:/)?$",routeKeys:{},namedRegex:"^/college/fusion(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/pitch-tunnel-simulator",regex:"^/pitch\\-tunnel\\-simulator(?:/)?$",routeKeys:{},namedRegex:"^/pitch\\-tunnel\\-simulator(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/sports/college-baseball",regex:"^/sports/college\\-baseball(?:/)?$",routeKeys:{},namedRegex:"^/sports/college\\-baseball(?:/)?$"},{page:"/sports/college-baseball/rankings",regex:"^/sports/college\\-baseball/rankings(?:/)?$",routeKeys:{},namedRegex:"^/sports/college\\-baseball/rankings(?:/)?$"},{page:"/sports/college-baseball/standings",regex:"^/sports/college\\-baseball/standings(?:/)?$",routeKeys:{},namedRegex:"^/sports/college\\-baseball/standings(?:/)?$"},{page:"/sports/mlb",regex:"^/sports/mlb(?:/)?$",routeKeys:{},namedRegex:"^/sports/mlb(?:/)?$"},{page:"/sports/nba",regex:"^/sports/nba(?:/)?$",routeKeys:{},namedRegex:"^/sports/nba(?:/)?$"},{page:"/sports/ncaa-basketball",regex:"^/sports/ncaa\\-basketball(?:/)?$",routeKeys:{},namedRegex:"^/sports/ncaa\\-basketball(?:/)?$"},{page:"/sports/ncaa-football",regex:"^/sports/ncaa\\-football(?:/)?$",routeKeys:{},namedRegex:"^/sports/ncaa\\-football(?:/)?$"},{page:"/sports/nfl",regex:"^/sports/nfl(?:/)?$",routeKeys:{},namedRegex:"^/sports/nfl(?:/)?$"},{page:"/sports/youth-sports",regex:"^/sports/youth\\-sports(?:/)?$",routeKeys:{},namedRegex:"^/sports/youth\\-sports(?:/)?$"},{page:"/trends",regex:"^/trends(?:/)?$",routeKeys:{},namedRegex:"^/trends(?:/)?$"},{page:"/unified",regex:"^/unified(?:/)?$",routeKeys:{},namedRegex:"^/unified(?:/)?$"}],dynamicRoutes:[{page:"/api/ncaa/[sport]/[teamId]",regex:"^/api/ncaa/([^/]+?)/([^/]+?)(?:/)?$",routeKeys:{nxtPsport:"nxtPsport",nxtPteamId:"nxtPteamId"},namedRegex:"^/api/ncaa/(?<nxtPsport>[^/]+?)/(?<nxtPteamId>[^/]+?)(?:/)?$"},{page:"/api/sports/college-baseball/games/[gameId]",regex:"^/api/sports/college\\-baseball/games/([^/]+?)(?:/)?$",routeKeys:{nxtPgameId:"nxtPgameId"},namedRegex:"^/api/sports/college\\-baseball/games/(?<nxtPgameId>[^/]+?)(?:/)?$"},{page:"/api/sports/mlb/mmi/games/[gameId]",regex:"^/api/sports/mlb/mmi/games/([^/]+?)(?:/)?$",routeKeys:{nxtPgameId:"nxtPgameId"},namedRegex:"^/api/sports/mlb/mmi/games/(?<nxtPgameId>[^/]+?)(?:/)?$"},{page:"/api/sports/ncaa/[sport]/[teamId]",regex:"^/api/sports/ncaa/([^/]+?)/([^/]+?)(?:/)?$",routeKeys:{nxtPsport:"nxtPsport",nxtPteamId:"nxtPteamId"},namedRegex:"^/api/sports/ncaa/(?<nxtPsport>[^/]+?)/(?<nxtPteamId>[^/]+?)(?:/)?$"},{page:"/sports/college-baseball/games/[gameId]",regex:"^/sports/college\\-baseball/games/([^/]+?)(?:/)?$",routeKeys:{nxtPgameId:"nxtPgameId"},namedRegex:"^/sports/college\\-baseball/games/(?<nxtPgameId>[^/]+?)(?:/)?$"},{page:"/sports/mlb/games/[gameId]/mmi",regex:"^/sports/mlb/games/([^/]+?)/mmi(?:/)?$",routeKeys:{nxtPgameId:"nxtPgameId"},namedRegex:"^/sports/mlb/games/(?<nxtPgameId>[^/]+?)/mmi(?:/)?$"}],nextConfig:{basePath:""}})))(y,y,y);export{ut as default};
