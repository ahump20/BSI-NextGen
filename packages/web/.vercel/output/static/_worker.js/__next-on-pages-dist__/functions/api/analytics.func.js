var W=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var V=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var Z=(c,p)=>()=>(c&&(p=c(c=0)),p);var B=(c,p,F,m)=>{if(p&&typeof p=="object"||typeof p=="function")for(let k of V(p))!Y.call(c,k)&&k!==F&&W(c,k,{get:()=>p[k],enumerable:!(m=Q(p,k))||m.enumerable});return c},H=(c,p,F)=>(B(c,p,"default"),F&&B(F,p,"default"));var ee=c=>B(W({},"__esModule",{value:!0}),c);var L={};import*as rt from"async_hooks";var z=Z(()=>{H(L,rt)});import{__getNamedExports as te}from"../../../__next-on-pages-dist__/webpack/df4d2274db36d8474f6ea13afdaea81a.js";import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/7801f2715286f7073cabb00469617eb9.js";import{__getNamedExports as se}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var E=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/analytics"),i=te(E,E,E),ae=i.__chunk_6195,re=i.__chunk_2067,oe=i.__chunk_4352,_e=i.__chunk_7664,ce=i.__chunk_3230,ue=i.__chunk_9445,ie=i.__chunk_1104,le=i.__chunk_1405,pe=i.__chunk_6666,ge=i.__chunk_7096,he=i.__chunk_7575,de=i.__chunk_7834,me=i.__chunk_8683,ke=i.__chunk_2448,fe=i.__chunk_9378,xe=i.__chunk_3557,be=i.__chunk_69,ye=i.__chunk_7751,Ee=i.__chunk_6858,Ie=i.__chunk_8176,Pe=i.__chunk_5288,ve=i.__chunk_7880,we=i.__chunk_8337,Re=i.__chunk_8062,o=ne(E,E,E),$e=o.__chunk_5924,Ne=o.__chunk_781,Oe=o.__chunk_8220,Ae=o.__chunk_3355,je=o.__chunk_2069,Se=o.__chunk_4941,Ce=o.__chunk_577,Te=o.__chunk_5233,Fe=o.__chunk_1329,Ke=o.__chunk_7100,Me=o.__chunk_1627,Le=o.__chunk_8499,Ue=o.__chunk_9685,De=o.__chunk_9960,qe=o.__chunk_104,Be=o.__chunk_1236,He=o.__chunk_9525,Xe=o.__chunk_9973,Ge=o.__chunk_1285,We=o.__chunk_48,ze=o.__chunk_2880,Je=o.__chunk_6426,Qe=o.__chunk_45,Ve=o.__chunk_1860,Ye=o.__chunk_2049,Ze=o.__chunk_1646,et=o.__chunk_6949,tt=o.__chunk_5681,J=se(E,E,E),nt=J.__NEXT_FONT_MANIFEST,st=J.__REACT_LOADABLE_MANIFEST,ut=((c,p,F)=>(p._ENTRIES={},c.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-86a5f5ff1c246a65.js","static/chunks/03776499-06fef3c38de84763.js","static/chunks/586-287072c5d1e0247a.js","static/chunks/main-app-d4b477d75c34216e.js"],pages:{"/_app":["static/chunks/webpack-86a5f5ff1c246a65.js","static/chunks/framework-bef83a85c94ff7de.js","static/chunks/main-4f532130390f5e28.js","static/chunks/pages/_app-78441e5ace8dbcac.js"],"/_error":["static/chunks/webpack-86a5f5ff1c246a65.js","static/chunks/framework-bef83a85c94ff7de.js","static/chunks/main-4f532130390f5e28.js","static/chunks/pages/_error-a120af1e9aa678da.js"]},ampFirstPages:[]},c.__BUILD_MANIFEST.lowPriorityFiles=["/static/AzwBPgRZEb-c_OwVMRqW0/_buildManifest.js",,"/static/AzwBPgRZEb-c_OwVMRqW0/_ssgManifest.js"],c.__REACT_LOADABLE_MANIFEST=st,c.__NEXT_FONT_MANIFEST=nt,c.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var m={},k={};function n(t){var u=k[t];if(u!==void 0)return u.exports;var r=k[t]={exports:{}},f=!0;try{m[t].call(r.exports,r,r.exports,n),f=!1}finally{f&&delete k[t]}return r.exports}n.m=m,n.amdO={},(()=>{var t=[];n.O=(u,r,f,x)=>{if(r){x=x||0;for(var g=t.length;g>0&&t[g-1][2]>x;g--)t[g]=t[g-1];t[g]=[r,f,x];return}for(var d=1/0,g=0;g<t.length;g++){for(var[r,f,x]=t[g],I=!0,y=0;y<r.length;y++)d>=x&&Object.keys(n.O).every(C=>n.O[C](r[y]))?r.splice(y--,1):(I=!1,x<d&&(d=x));if(I){t.splice(g--,1);var P=f();P!==void 0&&(u=P)}}return u}})(),n.n=t=>{var u=t&&t.__esModule?()=>t.default:()=>t;return n.d(u,{a:u}),u},n.d=(t,u)=>{for(var r in u)n.o(u,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:u[r]})},n.e=()=>Promise.resolve(),n.g=function(){if(typeof p=="object")return p;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(t,u)=>Object.prototype.hasOwnProperty.call(t,u),n.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};n.O.j=f=>t[f]===0;var u=(f,x)=>{var g,d,[I,y,P]=x,v=0;if(I.some(j=>t[j]!==0)){for(g in y)n.o(y,g)&&(n.m[g]=y[g]);if(P)var K=P(n)}for(f&&f(x);v<I.length;v++)d=I[v],n.o(t,d)&&t[d]&&t[d][0](),t[d]=0;return n.O(K)},r=c.webpackChunk_N_E=c.webpackChunk_N_E||[];r.forEach(u.bind(null,0)),r.push=u.bind(null,r.push.bind(r))})()})(),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[601],{8062:Re,8337:we,7880:ve,5288:Pe,8176:Ie,6858:Ee,7751:ye,69:be,3557:xe,9378:fe,2448:ke,8683:me,7834:de,7575:he,7096:ge,6666:pe,1405:le,1104:ie,9445:ue,3230:ce,7664:_e,4352:oe}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[901],{5681:tt,6949:et,1646:Ze,2049:Ye,1860:Ve,45:Qe,6426:Je,2880:ze,48:We,1285:Ge,9973:Xe,9525:He,1236:Be,104:qe,9960:De,9685:Ue,8499:Le,1627:Me,7100:Ke,1329:Fe,5233:Te,577:Ce,4941:Se,2069:je,3355:Ae,8220:Oe,781:Ne,5924:$e}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[567],{2067:re,6195:ae,1804:(m,k,n)=>{"use strict";n.r(k),n.d(k,{ComponentMod:()=>D,default:()=>q});var t={};n.r(t),n.d(t,{OPTIONS:()=>P,POST:()=>y,runtime:()=>I});var u={};n.r(u),n.d(u,{originalPathname:()=>C,patchFetch:()=>U,requestAsyncStorage:()=>K,routeModule:()=>v,serverHooks:()=>S,staticGenerationAsyncStorage:()=>j});var r=n(104),f=n(9525),x=n(7575),g=n(7096),d=n(48);let I="edge";async function y(M){try{let h=await M.json();if(!h.session||!h.timestamp)return d.xk.json({error:"Invalid payload: missing required fields"},{status:400});let T=M.analytics;if(T)try{for(let l of h.events||[])await T.writeDataPoint({blobs:[l.name,h.session.sessionId,h.session.userId||"anonymous"],doubles:[l.timestamp||Date.now()],indexes:[l.name]});for(let l of h.performance||[])await T.writeDataPoint({blobs:[l.metric,l.unit,h.session.sessionId],doubles:[l.value,l.timestamp],indexes:[l.metric]});for(let l of h.errors||[])await T.writeDataPoint({blobs:[l.type,l.message,h.session.sessionId],doubles:[l.timestamp],indexes:[l.type]})}catch(l){console.error("[Analytics API] Error writing to Analytics Engine:",l)}return d.xk.json({success:!0,received:{events:h.events?.length||0,performance:h.performance?.length||0,errors:h.errors?.length||0}},{status:200})}catch(h){return console.error("[Analytics API] Error processing request:",h),d.xk.json({error:"Failed to process analytics data",message:h instanceof Error?h.message:"Unknown error"},{status:500})}}async function P(M){return new d.xk(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}let v=new f.AppRouteRouteModule({definition:{kind:x.x.APP_ROUTE,page:"/api/analytics/route",pathname:"/api/analytics",filename:"route",bundlePath:"app/api/analytics/route"},resolvedPagePath:"/Users/AustinHumphrey/BSI-NextGen/packages/web/app/api/analytics/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:K,staticGenerationAsyncStorage:j,serverHooks:S}=v,C="/api/analytics/route";function U(){return(0,g.XH)({serverHooks:S,staticGenerationAsyncStorage:j})}let D=u,q=r.a.wrap(v)}},m=>{var k=t=>m(m.s=t);m.O(0,[601,901],()=>k(1804));var n=m.O();(p._ENTRIES=typeof p._ENTRIES>"u"?{}:p._ENTRIES)["middleware_app/api/analytics/route"]=n}]),function(){let m={exports:{},loaded:!1};return function(n,t){var u=Object.create,r=Object.defineProperty,f=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,g=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,I=e=>r(e,"__esModule",{value:!0}),y=(e,_)=>{I(e);for(var a in _)r(e,a,{get:_[a],enumerable:!0})},P=(e,_,a)=>{if(_&&typeof _=="object"||typeof _=="function")for(let s of x(_))!d.call(e,s)&&s!=="default"&&r(e,s,{get:()=>_[s],enumerable:!(a=f(_,s))||a.enumerable});return e},v=e=>P(I(r(e!=null?u(g(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);y(t,{default:()=>T});var K=v((z(),ee(L))),j="@next/request-context",S=Symbol.for(j),C=Symbol.for("internal.storage");function U(){let e=p;if(!e[S]){let _=new K.AsyncLocalStorage,a={get:()=>_.getStore(),[C]:_};e[S]=a}return e[S]}var D=U();function q(e,_){return D[C].run(e,_)}function M(e){let _={};return e&&e.forEach((a,s)=>{_[s]=a,s.toLowerCase()==="set-cookie"&&(_[s]=h(a))}),_}function h(e){let _=[],a=0,s,w,b,O,A;function R(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}function N(){return w=e.charAt(a),w!=="="&&w!==";"&&w!==","}for(;a<e.length;){for(s=a,A=!1;R();)if(w=e.charAt(a),w===","){for(b=a,a+=1,R(),O=a;a<e.length&&N();)a+=1;a<e.length&&e.charAt(a)==="="?(A=!0,a=O,_.push(e.substring(s,b)),s=a):a=b+1}else a+=1;(!A||a>=e.length)&&_.push(e.substring(s,e.length))}return _}function T(e){let _=e.staticRoutes.map(s=>({regexp:new RegExp(s.namedRegex),page:s.page})),a=e.dynamicRoutes?.map(s=>({regexp:new RegExp(s.namedRegex),page:s.page}))||[];return async function(s,w){let b=new URL(s.url).pathname,O={};if(e.nextConfig?.basePath&&b.startsWith(e.nextConfig.basePath)&&(b=b.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let R of e.nextConfig.i18n.locales){let N=new RegExp(`^/${R}($|/)`,"i");if(b.match(N)){b=b.replace(N,"/")||"/";break}}for(let R of _)if(R.regexp.exec(b)){O.name=R.page;break}if(!O.name){let R=X(b);for(let N of a||[]){if(R&&!X(N.page))continue;let G=N.regexp.exec(b);if(G){O={name:N.page,params:G.groups};break}}}let A=await q({waitUntil:w.waitUntil},()=>p._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:s.url,method:s.method,headers:M(s.headers),ip:l(s.headers,$.Ip),geo:{city:l(s.headers,$.City,!0),country:l(s.headers,$.Country,!0),latitude:l(s.headers,$.Latitude),longitude:l(s.headers,$.Longitude),region:l(s.headers,$.Region,!0)},nextConfig:e.nextConfig,page:O,body:s.body}}));return A.waitUntil&&w.waitUntil(A.waitUntil),A.response}}function l(e,_,a=!1){let s=e.get(_)||void 0;return a&&s?decodeURIComponent(s):s}function X(e){return e==="/api"||e.startsWith("/api/")}var $;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})($||($={}))}(m,m.exports),m.exports}.call({}).default({name:"app/api/analytics/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/college/fusion",regex:"^/college/fusion(?:/)?$",routeKeys:{},namedRegex:"^/college/fusion(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/pitch-tunnel-simulator",regex:"^/pitch\\-tunnel\\-simulator(?:/)?$",routeKeys:{},namedRegex:"^/pitch\\-tunnel\\-simulator(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/sports/college-baseball",regex:"^/sports/college\\-baseball(?:/)?$",routeKeys:{},namedRegex:"^/sports/college\\-baseball(?:/)?$"},{page:"/sports/college-baseball/rankings",regex:"^/sports/college\\-baseball/rankings(?:/)?$",routeKeys:{},namedRegex:"^/sports/college\\-baseball/rankings(?:/)?$"},{page:"/sports/college-baseball/standings",regex:"^/sports/college\\-baseball/standings(?:/)?$",routeKeys:{},namedRegex:"^/sports/college\\-baseball/standings(?:/)?$"},{page:"/sports/mlb",regex:"^/sports/mlb(?:/)?$",routeKeys:{},namedRegex:"^/sports/mlb(?:/)?$"},{page:"/sports/nba",regex:"^/sports/nba(?:/)?$",routeKeys:{},namedRegex:"^/sports/nba(?:/)?$"},{page:"/sports/ncaa-basketball",regex:"^/sports/ncaa\\-basketball(?:/)?$",routeKeys:{},namedRegex:"^/sports/ncaa\\-basketball(?:/)?$"},{page:"/sports/ncaa-football",regex:"^/sports/ncaa\\-football(?:/)?$",routeKeys:{},namedRegex:"^/sports/ncaa\\-football(?:/)?$"},{page:"/sports/nfl",regex:"^/sports/nfl(?:/)?$",routeKeys:{},namedRegex:"^/sports/nfl(?:/)?$"},{page:"/sports/youth-sports",regex:"^/sports/youth\\-sports(?:/)?$",routeKeys:{},namedRegex:"^/sports/youth\\-sports(?:/)?$"},{page:"/trends",regex:"^/trends(?:/)?$",routeKeys:{},namedRegex:"^/trends(?:/)?$"},{page:"/unified",regex:"^/unified(?:/)?$",routeKeys:{},namedRegex:"^/unified(?:/)?$"}],dynamicRoutes:[{page:"/api/ncaa/[sport]/[teamId]",regex:"^/api/ncaa/([^/]+?)/([^/]+?)(?:/)?$",routeKeys:{nxtPsport:"nxtPsport",nxtPteamId:"nxtPteamId"},namedRegex:"^/api/ncaa/(?<nxtPsport>[^/]+?)/(?<nxtPteamId>[^/]+?)(?:/)?$"},{page:"/api/sports/college-baseball/games/[gameId]",regex:"^/api/sports/college\\-baseball/games/([^/]+?)(?:/)?$",routeKeys:{nxtPgameId:"nxtPgameId"},namedRegex:"^/api/sports/college\\-baseball/games/(?<nxtPgameId>[^/]+?)(?:/)?$"},{page:"/api/sports/mlb/mmi/games/[gameId]",regex:"^/api/sports/mlb/mmi/games/([^/]+?)(?:/)?$",routeKeys:{nxtPgameId:"nxtPgameId"},namedRegex:"^/api/sports/mlb/mmi/games/(?<nxtPgameId>[^/]+?)(?:/)?$"},{page:"/api/sports/ncaa/[sport]/[teamId]",regex:"^/api/sports/ncaa/([^/]+?)/([^/]+?)(?:/)?$",routeKeys:{nxtPsport:"nxtPsport",nxtPteamId:"nxtPteamId"},namedRegex:"^/api/sports/ncaa/(?<nxtPsport>[^/]+?)/(?<nxtPteamId>[^/]+?)(?:/)?$"},{page:"/sports/college-baseball/games/[gameId]",regex:"^/sports/college\\-baseball/games/([^/]+?)(?:/)?$",routeKeys:{nxtPgameId:"nxtPgameId"},namedRegex:"^/sports/college\\-baseball/games/(?<nxtPgameId>[^/]+?)(?:/)?$"},{page:"/sports/mlb/games/[gameId]/mmi",regex:"^/sports/mlb/games/([^/]+?)/mmi(?:/)?$",routeKeys:{nxtPgameId:"nxtPgameId"},namedRegex:"^/sports/mlb/games/(?<nxtPgameId>[^/]+?)/mmi(?:/)?$"}],nextConfig:{basePath:""}})))(E,E,E);export{ut as default};
