# Blaze Sports Intel - Data Ingestion Worker Configuration
name = "bsi-data-ingestion"
main = "src/index.ts"
compatibility_date = "2024-01-01"
workers_dev = true

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "bsi-sports-data"
database_id = "YOUR_D1_DATABASE_ID" # Replace with actual D1 database ID

# Environment variables
[vars]
WEB_APP_ORIGIN = "http://localhost:3000" # Update for production

# Production environment
[env.production]
[env.production.vars]
WEB_APP_ORIGIN = "https://blazesportsintel.com"

# Cron triggers - run every 15 minutes
[triggers]
crons = ["*/15 * * * *"]

# Rate limiting (optional)
# [[unsafe.bindings]]
# name = "RATE_LIMITER"
# type = "ratelimit"
# namespace_id = "YOUR_NAMESPACE_ID"
# simple = { limit = 100, period = 60 }
