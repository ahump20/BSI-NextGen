# Caching headers for Sandlot Sluggers
# Optimized for Cloudflare Pages, Netlify, and Vercel

# HTML - Short cache with revalidation
/*.html
  Cache-Control: public, max-age=0, must-revalidate
  X-Content-Type-Options: nosniff
  X-Frame-Options: SAMEORIGIN
  X-XSS-Protection: 1; mode=block
  Referrer-Policy: strict-origin-when-cross-origin

# Root index
/
  Cache-Control: public, max-age=0, must-revalidate

# JavaScript - Long cache (immutable with content hash)
/assets/*.js
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

# CSS - Long cache (immutable with content hash)
/assets/*.css
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

# Babylon.js and large libraries - Long cache
/assets/*babylon*.js
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

/assets/*havok*.js
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

# WASM files - Long cache with correct content type
*.wasm
  Cache-Control: public, max-age=31536000, immutable
  Content-Type: application/wasm
  X-Content-Type-Options: nosniff

# Images - Long cache
/assets/*.png
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

/assets/*.jpg
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

/assets/*.svg
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

/assets/*.webp
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

# Fonts - Long cache
/assets/*.woff
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

/assets/*.woff2
  Cache-Control: public, max-age=31536000, immutable
  X-Content-Type-Options: nosniff

# Embed page - Special CORS headers for iframe
/embed.html
  Cache-Control: public, max-age=300, must-revalidate
  X-Frame-Options: ALLOW-FROM https://blazesportsintel.com
  Content-Security-Policy: frame-ancestors 'self' https://blazesportsintel.com https://www.blazesportsintel.com
  Access-Control-Allow-Origin: https://blazesportsintel.com
  Access-Control-Allow-Methods: GET, POST, OPTIONS
  Access-Control-Allow-Headers: Content-Type, Authorization
  X-Content-Type-Options: nosniff

# Test embed page - Development headers
/test-embed.html
  Cache-Control: no-cache, no-store, must-revalidate
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff

# API endpoints - No cache for dynamic data
/api/*
  Cache-Control: no-cache, no-store, must-revalidate
  Content-Type: application/json
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, OPTIONS
  Access-Control-Allow-Headers: Content-Type, Authorization
