"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{4534:function(e,t,r){r.r(t),r.d(t,{PitchVisualization3D:function(){return j}});var n=r(4980),o=r(4804),s=r(5928),i=r(7928),a=r(9352),c=r(5514),l=r(2310),h=r(1632),x=r(3125),p=r(1710),d=r(9922);function j(e){let{trajectories:t,cameraView:r,showStrikeZone:o=!0,showGrid:i=!0,animationSpeed:l=1,paused:h=!1}=e;return(0,n.jsx)("div",{className:"w-full h-full bg-gray-900 rounded-lg overflow-hidden",children:(0,n.jsxs)(s.Xz,{children:[(0,n.jsx)(u,{view:r}),(0,n.jsx)("ambientLight",{intensity:.5}),(0,n.jsx)("directionalLight",{position:[10,10,5],intensity:1}),(0,n.jsx)("pointLight",{position:[-10,10,-5],intensity:.5}),(0,n.jsx)(m,{}),o&&(0,n.jsx)(F,{}),(0,n.jsx)(g,{}),i&&(0,n.jsx)(a.r,{args:[20,20],cellColor:"#444",sectionColor:"#666"}),t.map((e,t)=>e.visible&&(0,n.jsx)(f,{trajectory:e.trajectory,color:e.color,animationSpeed:l,paused:h},t)),(0,n.jsx)("axesHelper",{args:[2]}),(0,n.jsx)(c.z,{enablePan:!0,enableZoom:!0,enableRotate:!0,maxDistance:15,minDistance:2})]})})}function u(e){let{view:t}=e,r={catcher:[0,.5,7],batter:[1,.5,6.5],side:[8,2,0],top:[0,10,0],pitcher:[0,1,-6]},o=r[t]||r.catcher;return(0,n.jsx)(l.c,{makeDefault:!0,position:o,fov:75,near:.1,far:1e3})}function m(){return(0,n.jsxs)("group",{position:[0,0,-6.05],children:[(0,n.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,.01,0],children:[(0,n.jsx)("circleGeometry",{args:[.9,32]}),(0,n.jsx)("meshStandardMaterial",{color:"#8B4513"})]}),(0,n.jsxs)("mesh",{position:[0,.02,0],children:[(0,n.jsx)("boxGeometry",{args:[.6,.02,.1]}),(0,n.jsx)("meshStandardMaterial",{color:"#FFFFFF"})]}),(0,n.jsx)(h.x,{position:[0,.1,-.5],rotation:[-Math.PI/2,0,0],fontSize:.15,color:"#FFFFFF",anchorX:"center",anchorY:"middle",children:"MOUND"})]})}function F(){let e=3.5*.1;return(0,n.jsxs)("group",{position:[0,.25,0],children:[(0,n.jsxs)("lineSegments",{children:[(0,n.jsx)("edgesGeometry",{args:[new p.DvJ(.142,e,.01)]}),(0,n.jsx)("lineBasicMaterial",{color:"#FF0000",linewidth:2})]}),(0,n.jsxs)("mesh",{children:[(0,n.jsx)("boxGeometry",{args:[.142,e,.01]}),(0,n.jsx)("meshBasicMaterial",{color:"#FF0000",transparent:!0,opacity:.1,side:p.ehD})]}),[void 0,void 0].map((t,r)=>{let o=-e/2+(r+1)*e/3,s=[new p.Pa4(-.071,o,0),new p.Pa4(.071,o,0)];return(0,n.jsx)(x.x,{points:s,color:"#FF0000",lineWidth:1,transparent:!0,opacity:.3},"h-".concat(r))}),[void 0,void 0].map((t,r)=>{let o=-.071+(r+1)*.142/3,s=[new p.Pa4(o,-e/2,0),new p.Pa4(o,e/2,0)];return(0,n.jsx)(x.x,{points:s,color:"#FF0000",lineWidth:1,transparent:!0,opacity:.3},"v-".concat(r))})]})}function g(){let e=new p.bnF;return e.moveTo(0,0),e.lineTo(-.14160999999999999/2,.035402499999999996),e.lineTo(-.14160999999999999/2,.07080499999999999),e.lineTo(.07080499999999999,.07080499999999999),e.lineTo(.07080499999999999,.035402499999999996),e.closePath(),(0,n.jsxs)("group",{position:[0,.01,0],children:[(0,n.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],children:[(0,n.jsx)("shapeGeometry",{args:[e]}),(0,n.jsx)("meshStandardMaterial",{color:"#FFFFFF"})]}),(0,n.jsx)(h.x,{position:[0,.1,.5],rotation:[-Math.PI/2,0,0],fontSize:.15,color:"#FFFFFF",anchorX:"center",anchorY:"middle",children:"HOME"})]})}function f(e){let{trajectory:t,color:r,animationSpeed:s,paused:a}=e,c=(0,o.useRef)(null),l=(0,o.useRef)(0),h=(0,o.useMemo)(()=>t.points.map(e=>(0,d.Ho)(e.x,e.y,e.z)),[t]);return(0,i.D)((e,t)=>{if(a||!c.current)return;l.current+=t*s*.5,l.current>=1&&(l.current=0);let r=Math.floor(l.current*(h.length-1)),n=Math.min(r+1,h.length-1),o=l.current*(h.length-1)%1,i=h[r],x=h[n];c.current.position.lerpVectors(i,x,o),c.current.rotation.x+=20*t,c.current.rotation.y+=15*t}),(0,n.jsxs)("group",{children:[(0,n.jsx)(x.x,{points:h,color:r,lineWidth:2,transparent:!0,opacity:.7}),(0,n.jsxs)("mesh",{ref:c,position:h[0],children:[(0,n.jsx)("sphereGeometry",{args:[.037,16,16]}),(0,n.jsx)("meshStandardMaterial",{color:r})]}),(0,n.jsxs)("mesh",{position:h[0],children:[(0,n.jsx)("sphereGeometry",{args:[.05,8,8]}),(0,n.jsx)("meshBasicMaterial",{color:r,transparent:!0,opacity:.3})]}),(0,n.jsxs)("mesh",{position:[.1*t.plateLocation.x,.1*t.plateLocation.y,0],children:[(0,n.jsx)("ringGeometry",{args:[.05,.08,16]}),(0,n.jsx)("meshBasicMaterial",{color:r,side:p.ehD})]})]})}}}]);